#pragma once

using namespace std;

// Screen dimension constants
const uint16_t NESDL_SCREEN_WIDTH = 256;
const uint16_t NESDL_SCREEN_HEIGHT = 240;
const string NESDL_WINDOW_NAME = "NESDL";

// PPU
#define PPU_WIDTH 256
#define PPU_HEIGHT 240

// Measured in hz
const uint32_t NESDL_MASTER_CLOCK = 21477273; // 236.25 MHz / 11, by definition
const uint32_t NESDL_CPU_CLOCK = NESDL_MASTER_CLOCK / 12; // 3 PPU dots per cycle, 12x slower than master
const uint32_t NESDL_PPU_CLOCK = NESDL_MASTER_CLOCK / 4; // 4 clocks per dot, 3x faster than CPU

// CPU clock cycles for the PPU to "warm up" (more specifically, the
// "pre-render scanline of the next frame" on NTSC)
const uint32_t NESDL_PPU_CYCLE_READY = 29658;

// SDL takes color in format ARGB
static uint32_t MakeColor(uint8_t r, uint8_t g, uint8_t b)
{
    return (r << 16) | (g << 8) | (b << 0);
};


// https://www.nesdev.org/wiki/PPU_palettes#Recommended_emulator_palette
const uint32_t NESDL_PALETTE[0x40] =
{
    MakeColor(0x62,0x62,0x62), MakeColor(0x00,0x2C,0x7C), MakeColor(0x11,0x15,0x9C), MakeColor(0x36,0x03,0x9C),
    MakeColor(0x55,0x00,0x7C), MakeColor(0x67,0x00,0x44), MakeColor(0x67,0x07,0x03), MakeColor(0x55,0x1C,0x00),
    MakeColor(0x36,0x32,0x00), MakeColor(0x11,0x44,0x00), MakeColor(0x00,0x4E,0x00), MakeColor(0x00,0x4C,0x03),
    MakeColor(0x00,0x40,0x44), MakeColor(0x00,0x00,0x00), MakeColor(0x00,0x00,0x00), MakeColor(0x00,0x00,0x00),
    
    MakeColor(0xAB,0xAB,0xAB), MakeColor(0x12,0x60,0xCE), MakeColor(0x3D,0x42,0xFA), MakeColor(0x6E,0x29,0xFA),
    MakeColor(0x99,0x1C,0xCE), MakeColor(0xB1,0x1E,0x81), MakeColor(0xB1,0x2F,0x29), MakeColor(0x99,0x4A,0x00),
    MakeColor(0x6E,0x69,0x00), MakeColor(0x3D,0x82,0x00), MakeColor(0x12,0x8F,0x00), MakeColor(0x00,0x8D,0x29),
    MakeColor(0x00,0x7C,0x81), MakeColor(0x00,0x00,0x00), MakeColor(0x00,0x00,0x00), MakeColor(0x00,0x00,0x00),
    
    MakeColor(0xFF,0xFF,0xFF), MakeColor(0x60,0xB2,0xFF), MakeColor(0x8D,0x92,0xFF), MakeColor(0xC0,0x78,0xFF),
    MakeColor(0xEC,0x6A,0xFF), MakeColor(0xFF,0x6D,0xD4), MakeColor(0xFF,0x7F,0x79), MakeColor(0xEC,0x9B,0x2A),
    MakeColor(0xC0,0xBA,0x00), MakeColor(0x8D,0xD4,0x00), MakeColor(0x60,0xE2,0x2A), MakeColor(0x47,0xE0,0x79),
    MakeColor(0x47,0xCE,0xD4), MakeColor(0x4E,0x4E,0x4E), MakeColor(0x00,0x00,0x00), MakeColor(0x00,0x00,0x00),
    
    MakeColor(0xFF,0xFF,0xFF), MakeColor(0xBF,0xE0,0xFF), MakeColor(0xD1,0xD3,0xFF), MakeColor(0xE6,0xC9,0xFF),
    MakeColor(0xF7,0xC3,0xFF), MakeColor(0xFF,0xC4,0xEE), MakeColor(0xFF,0xCB,0xC9), MakeColor(0xF7,0xD7,0xA9),
    MakeColor(0xE6,0xE3,0x97), MakeColor(0xD1,0xEE,0x97), MakeColor(0xBF,0xF3,0xA9), MakeColor(0xB5,0xF2,0xC9),
    MakeColor(0xB5,0xEB,0xEE), MakeColor(0xB8,0xB8,0xB8), MakeColor(0x00,0x00,0x00), MakeColor(0x00,0x00,0x00)
};
